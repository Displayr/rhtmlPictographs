<!doctype html>
<html>
  <body>
    <script src="external/lodash.min.js"></script>
    <script src="external/jquery.min.js"></script>

    <h2>Examples</h2>
    <ul class='example-list'></ul>

  </body>
  <script>

    generateExampleLinks = function() {
      var exampleList = $('.example-list');

      $.ajax('./test/scenarios.json').done(function (response) {
        _.forEach(response.scenarios, function (example, index) {
          var listItem = $('<li>');
          var link = "render.html?index=" + index;

          var anchor = $('<a>').html(example.name)
            .attr('href', link)

          exampleList.append(listItem.append(anchor));

        });
      }).fail( function(error) {
        console.error("Download of ./test/scenarios.json failed. Probably invalid JSON.");
        console.error(error);
        $('body').append($('<div>').text("Failure to download/parse ./test/scenarios.json (probably invalid JSON). See dev tools console for error logging."));
      });
    }

    $(document).ready(generateExampleLinks);
  </script>
</html>
